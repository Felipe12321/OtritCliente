
<div class="container">
	<div class="row">
		<div class="col-md-3">
			<div class="form-group">

				<form>
					<!--Input-->
					<label for="">Buscar sector</label>
					<input id="autocomplete" placeholder="Ingresa una dirección" autocorrect="off" autocapitalize="off" spellcheck="off" type="text" class="form-control" #search [formControl]="searchControl" style="width: 100%">
					<br> <br>
					
				</form>

				<div id="accordion" class="panel-group" *ngIf="isDataAviable">
				
					<!--Grafico Anual-->
					<div class="panel panel-primary">
						<div class="panel-heading">
							<h4 class="panel-title">
								<a data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
									<span class="glyphicon glyphicon-chevron-down"></span>
									Seleccionar año</a>
							</h4>
						</div>
						<div id="collapseOne" class="panel-collapse collapse">
							<div class="panel-body">
								<div *ngFor="let year of years; let i = index">
									<mat-checkbox [(ngModel)]="isEnabled[i]"
												 (change)="change(year,i)"
									>{{year}}</mat-checkbox>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-9">
			<h2>Mapa histórico</h2>
			<mat-card>
				<mat-card-content>
					<agm-map 
						*ngIf="isDataAviable"
						[latitude]="lat" 
						[longitude]="lng" 
						[zoom]="zoom" 
						[minZoom]="11"
						[streetViewControl]="false">
			
						<agm-marker-cluster [imagePath]="'assets/marker/m'" [averageCenter]="true">

							<agm-marker *ngFor="let acc of accidentes;" 
								[latitude]="acc.latitud" 
								[longitude]="acc.longitud" 
								[iconUrl]="'assets/marker/pin.png'"

							(markerClick)="infoWindow">
								<agm-info-window #infoWindow>
								</agm-info-window>
							</agm-marker>

						</agm-marker-cluster>
							  
					</agm-map>
					<div *ngIf="!isDataAviable">
					
						<h2 class="example-h2">Cargando...</h2>
					
						<mat-spinner class="example-margin" [color]="color" [mode]="mode" [value]="value">
						</mat-spinner>
					</div>

				</mat-card-content>
			</mat-card>
		</div>
	</div>
</div>
