<div class="container">
  <div class="row">
    <div class="col-md-3" id="sidenav">
      <button class="btn btn-success" (click)="descargaDatos()">Descarga Datos</button>
      <hr>
      <div class="form-group">

        <form>
          <label>seleccionar gráfico</label>
          <mat-form-field>
            <mat-select placeholder="Gráfico" [(ngModel)]="selectedValue" name="graficos">

              <mat-option *ngFor="let grafico of graficos" [value]="grafico.value">
                {{ grafico.viewValue }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </form>
      </div>




      
    </div>
    
    <div class="col-md-8">
      <h2>Estadísticas - Región Metropolitana</h2> 


<!--Gráfico anual-->

      <mat-card *ngIf="selectedValue == 'Anual'">
        <mat-card-content>
          <canvas  
           *ngIf="isDataAvailableAnual"
            baseChart
            [datasets]="barChartDataAnual"
            [labels]="barChartLabelsAnual"
            [options]="barChartOptionsAnual"
            [legend]="barChartLegendAnual"
            [chartType]="barChartTypeAnual"
            [colors]="Colors">
          </canvas>

          <div *ngIf="!isDataAvailableAnual">
      
            <h2 class="example-h2">Cargando...</h2>
      
            <mat-spinner class="example-margin" [color]="color" [mode]="mode" [value]="value">
            </mat-spinner>
          </div>
        </mat-card-content>
      </mat-card>
      
      <mat-card *ngIf="selectedValue == 'Mensual'">
        <mat-card-content>
          <canvas  
            *ngIf="isDataAvailableMensual"
            baseChart
            [datasets]="barChartDataMensual"
            [labels]="barChartLabelsMensual"
            [options]="barChartOptionsMensual"
            [legend]="barChartLegendMensual"
            [chartType]="barChartTypeMensual">
          </canvas>
      
      
          <div
          *ngIf="!isDataAvailableMensual">
          
            <h2 class="example-h2">Cargando...</h2>
        
            <mat-spinner class="example-margin" [color]="color" [mode]="mode" [value]="value">
            </mat-spinner>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>  
</div>